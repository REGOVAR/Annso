<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Annso</title>


    <!-- Base -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-migrate-3.0.0.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script type="text/javascript" src="/assets/jquery.tablesorter.min.js"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


    <!-- Form generator -->
    <link rel="stylesheet" href='/assets/brutusin/css/brutusin-json-forms.min.css'/>
    <script src="/assets/brutusin/js/brutusin-json-forms.min.js"></script>

    <!-- Pirus specific -->
    <link rel="stylesheet" href="/assets/annso.css"/>
    <link rel="stylesheet" href="/assets/font-awesome-4.6.3/css/font-awesome.min.css"/>
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar" class="navbar-collapse collapse" aria-expanded="false" style="height: 1px;">
                <ul class="nav navbar-nav">
                    <li><a data-toggle="tab" href="#presentation"><i class="fa fa-eye" aria-hidden="true"></i> Presentation</a></li>
                    <li class="active"><a data-toggle="tab" href="#demo"><i class="fa fa-desktop" aria-hidden="true"></i> Demo</a></li>
                    <li><a data-toggle="tab" href="#api"><i class="fa fa-code" aria-hidden="true"></i> API</a></li>
                    <li><a href="http://annso.readthedocs.io/en/latest/?badge=latest" target="_blanck"><i class="fa fa-question" aria-hidden="true"></i> Help</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </nav>

    <div class="container" role="main" style="width:100%; padding:10px 50px 0 50px">
        <h1 class="content-subhead hidden" style="margin-top:70px"><i class="fa fa-retweet" aria-hidden="true"></i> WS [ <span id="message"></span> ]</h1>
        <div class="tab-content" style="margin-top:70px">

            <!--              -->
            <!-- PRESENTATION -->
            <!--              -->
            <div id="presentation" class="tab-pane fade container">
                <h1>Annso !!</h1>
            </div>


            <!--      -->
            <!-- DEMO -->
            <!--      -->
            <div id="demo" class="tab-pane fade in active"  >

                <div id="tus_support_alert" class="alert alert-warining hidden">
                    <b>Warning!</b> Your browser does not seem to support the features necessary to run tus-js-client.
                </div>

                <h2 style="color:#999;">My analysis</h2>
                <div class="panel panel-default" style="box-shadow: 0 0 10px #ccc; border: 1px solid #ccc;">
                    <div class="panel-heading" style="position:relative; padding:0">
                        <!-- <img src="/assets/img/logo.png" width="100px" style="position:absolute; top:-10px; left:-100px;" />  -->



                        <!--                -->
                        <!-- Welcom TOOLBAR -->
                        <!--                -->
                        <div id="welcom_toolbar" style="height:54px;">
                            &nbsp;
                        </div>

                        <!--                -->
                        <!-- SAMPLE TOOLBAR -->
                        <!--                -->
                        <div id="sample_toolbar" class="collapse">
                            <form class="form-inline" style="display:block; float: right; margin: 9px 9px 0 9px;">
                                <span id="sample_qfilter_message" style="color:#999" style="font-style:italic"></span>
                                <span id="sample_qfilter_warning" class="text-danger" style="font-style:italic"></span>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></span>
                                    <input id="sample_qfilter_input" type="text" class="form-control" placeholder="Filter samples" aria-describedby="sizing-addon1">
                                </div>
                            </form>

                            <div style="padding:10px; margin-left:75px; border-left: 1px solid #ddd;">
                                <div class="btn-group ">
                                    <a class="btn btn-default" href="#" title="Import sample data from local file" data-toggle="modal">
                                        <i class="fa fa-download" style="width:20px; text-align:center;" aria-hidden="true"></i>
                                    </a>
                                    <a class="btn btn-default" href="#" title="Import sample data from database" data-toggle="modal" onclick="javascript:fake_add_samples();">
                                        <i class="fa fa-database" style="width:20px; text-align:center;" aria-hidden="true"></i>
                                    </a>
                                </div>

                                <div id="" class="btn-group ">
                                    <a class="btn btn-default" href="#modal_import_local_file" title="Import sample data" data-toggle="modal" onclick="javascript:fake_add_sample_attribute();">
                                        <i class="fa fa-tag" style="width:20px; text-align:center;" aria-hidden="true"></i> New attribute
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!--                 -->
                        <!-- VARIANT TOOLBAR -->
                        <!--                 -->
                        <div id="variant_toolbar" class="collapse">
                            <form class="form-inline" style="display:block; float: right; margin: 9px 9px 0 9px;">
                                <span id="variant_qfilter_message" style="color:#999" style="font-style:italic"></span>
                                <span id="variant_qfilter_warning" class="text-danger" style="font-style:italic"></span>
                                <div class="input-group">
                                    <span class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></span>
                                    <input id="variant_qfilter_input" type="text" class="form-control" placeholder="Filter variants" aria-describedby="sizing-addon1">
                                </div>
                            </form>

                            <div style="padding:10px; margin-left:75px; border-left: 1px solid #ddd;">
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn btn-default active" onclick="javascript:fake_select_variant_submenu('quick');">
                                        <input type="radio" name="options" id="option1" checked>  <i class="fa fa-bolt" aria-hidden="true"></i>
                                    </label>
                                    <label class="btn btn-default" onclick="javascript:fake_select_variant_submenu('filter');">
                                        <input type="radio" name="options" id="option1" checked>  <i class="fa fa-filter" aria-hidden="true"></i>
                                    </label>
                                    <label class="btn btn-default" onclick="javascript:fake_select_variant_submenu('info');">
                                        <input type="radio" name="options" id="option2">  <i class="fa fa-info" aria-hidden="true"></i>
                                    </label>
                                </div>
                                <button type="submit" class="btn btn-default" title="Create a selection for this filter and continue with a new filter" style="">
                                    <i class="fa fa-floppy-o" aria-hidden="true"></i> Save filter
                                </button>
                            </div>
                        </div>

                        <!--                 -->
                        <!-- RESULT TOOLBAR -->
                        <!--                 -->
                        <div id="result_toolbar" class="collapse">
                            <div style="padding:10px; margin-left:75px; border-left: 1px solid #ddd;">
                                <div class="btn-group" data-toggle="buttons">
                                    <label class="btn btn-default active" onclick="javascript:fake_select_select_submenu('info');">
                                        <input type="radio" name="options" id="option1" checked>  <i class="fa fa-list" aria-hidden="true"></i>
                                    </label>
                                    <label class="btn btn-default" onclick="javascript:fake_select_select_submenu('export');">
                                        <input type="radio" name="options" id="option2">  <i class="fa fa-share-square-o" aria-hidden="true"></i>
                                    </label>
                                    <label class="btn btn-default" onclick="javascript:fake_select_select_submenu('report');">
                                        <input type="radio" name="options" id="option2">  <i class="fa fa-print" aria-hidden="true"></i>
                                    </label>
                                </div>
                            </div>
                        </div>

                    </div>


                    <div id="nav_project" class="sidebar-nav">
                        <nav class="navbar navbar-default" style="">
                            <div class="navbar-collapse collapse" aria-expanded="false" style="height: 1px; padding:0;">
                                
                                <!--                   -->
                                <!-- ANALYSIS TAB MENU -->
                                <!--                   -->
                                <ul class="nav navbar-nav">
                                    <li class="active"><a data-toggle="tab" href="#welcom_panel" onclick="javascript:fake_select_tab('welcom');">
                                        <i class="fa fa-folder-open" style="width:20px; text-align:center;" aria-hidden="true"></i> Welcom </a></li>
                                    <li><a data-toggle="tab" href="#samples_panel" onclick="javascript:fake_select_tab('sample');">
                                        <i class="fa fa-user" style="width:20px; text-align:center;" aria-hidden="true"></i> Samples </a></li>
                                    <li><a data-toggle="tab" href="#filters_panel" onclick="javascript:fake_select_tab('variant');">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Variants</a></li>
                                    <li><a data-toggle="tab" href="#selection_panel" onclick="javascript:fake_select_tab('result');">
                                        <i class="fa fa-check-square-o" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i> Selection</a></li>
                                </ul>

                                <!--                     -->
                                <!-- FIELDS DISPLAY MENU -->
                                <!--                     -->
                                
                            </div>
                        </nav>
                    </div>

                    <div class="panel-body tab-content" style="padding: 0;">


                        <!--              -->
                        <!-- WELCOM PANEL --> 
                        <!--              -->
                        <div id="welcom_panel" class="tab-pane fade in active">
                            <div class="row" style="margin:0; padding-left:75px">
                                <div class="col-md-3">
                                    <h3>New analysis</h3>
                                    <ul>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> From scratch
                                            </a>
                                        </li>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Hugodims
                                            </a>
                                        </li>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Niourk
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="col-md-3">
                                    <h3>Open analysis</h3>
                                    <ul>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-folder-open" style="width:20px; text-align:center;" aria-hidden="true"></i> Open Analysis
                                            </a>
                                        </li>
                                    </ul>
                                    <h3>Recent analysis</h3>
                                    <ul>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-folder-o" style="width:20px; text-align:center;" aria-hidden="true"></i> OGD-AZ-158
                                            </a>
                                        </li>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-folder-o" style="width:20px; text-align:center;" aria-hidden="true"></i> My test analysis 
                                            </a>
                                        </li>
                                        <li>
                                            <a class="btn btn-default" href="#" title="Import data" data-toggle="modal">
                                                <i class="fa fa-folder-o" style="width:20px; text-align:center;" aria-hidden="true"></i> X-Files Trump
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!--              -->
                        <!-- SAMPLE PANEL --> 
                        <!--              -->
                        <div id="samples_panel" class="tab-pane fade">
                            <div class="row" style="margin:0; padding-left:75px">
                                <!--              -->
                                <!-- SAMPLES MENU -->
                                <!--              -->
                                <div class="col-md-2 browser-panel">

                                    <a class="btn section" style="display:block; text-align:left;">
                                        <i class="fa fa-users" style="width:20px; text-align:center;" aria-hidden="true"></i> Selected for the analysis 
                                        <span id="samples_count" class="badge" style="float:right; margin-top:3px">0</span>
                                    </a>
                                    <ul id="samples_panel_selection">
                                        <li class="empty_selection">No sample selected</li>
                                    </ul>


                                    <a class="btn section" style="display:block; text-align:left;">
                                        <i class="fa fa-tags" style="width:20px; text-align:center;" aria-hidden="true"></i> Samples attributes
                                        <span id="sample_attributes_count" class="badge" style="float:right; margin-top:3px">0</span>
                                    </a>
                                    <ul id="samples_panel_attributes">
                                        <li class="empty_selection">No attribute</li>
                                    </ul>
                                </div>

                                <!--              -->
                                <!-- SAMPLES LIST -->
                                <!--              -->
                                <div id="browser_samples" class="col-md-10" style="height:500px; padding-left:0; padding-right:0; overflow-y: auto;">
                                    <table id="browser_samples_table" class="table table-striped table-bordered" cellspacing="0" width="100%" style="margin:0">
                                        <thead>
                                            <tr>
                                                <th style="width:30px"></th>
                                                <th class="collapse">Subject</th>
                                                <th>Sample</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        </tbody>
                                    </table>
                                </div>

                                <!--                -->
                                <!-- SAMPLE DETAILS -->
                                <!--                -->
                                <div id="samples_details" class="collapse" >
                                    <div class="collapse">
                                        <h3>
                                            <a style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#samples_details_subject_details" aria-expanded="false" aria-controls="samples_details_subject_details">
                                                <i class="fa fa-user" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i> Subject : <span id="samples_details_subject"></span>
                                                <span style="float:right"><i class="fa fa-pencil" aria-hidden="true" style="width:20px; text-align:center;"></i></span>
                                            </a>
                                        </h3>
                                        <div id="samples_details_subject_details" class="row collapse">
                                            <div class="col-md-6">
                                                <b>Phenotype :</b>
                                                <ul>
                                                    <li><b>Nez :</b> gros</li>
                                                    <li><b>Menton :</b> Dalton</li>
                                                    <li><b>Yeux :</b> 5</li>
                                                    <li><b>Cheveux :</b> Trump</li>
                                                </ul>
                                            </div>
                                            <div class="col-md-6">
                                                <b>Characteristics :</b>
                                                <ul>
                                                    <li><b>Sex :</b> Male</li>
                                                    <li><b>Size :</b> 2m75</li>
                                                    <li><b>Age :</b> 115</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <h3>
                                        <a style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#samples_details_sample_details" aria-expanded="false" aria-controls="samples_details_sample_details">
                                            <i class="fa fa-flask" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i> Sample : <span id="samples_details_name"></span>
                                            <span style="float:right"><i class="fa fa-pencil" aria-hidden="true" style="width:20px; text-align:center;"></i></span>
                                        </a>
                                    </h3>
                                    <div id="samples_details_sample_details" class="row collapse">
                                        <div class="col-md-6">
                                            <b>Stats :</b>
                                            <ul>
                                                <li><b>Variants :</b> 215</li>
                                                <li><b>Analyses :</b> 2</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <b>Files :</b>
                                            <ul>
                                                <li>2016.12.09.vcf</li>
                                            </ul>
                                        </div>
                                    </div>

                                    <hr/>
                                    <button id="samples_details_select_btn" class="btn btn-default" onclick="javascript:select_sample(-1);">
                                        <i class="fa fa-square-o" aria-hidden="true" style="width:20px; text-align:center;"></i> Select for this analysis
                                    </button>

                                    <div id="samples_details_attributes_details" class="row collapse">
                                        <br/>
                                        <form class="form-inline" style="margin-left:15px;margin-bottom:10px;">
                                            <div class="input-group">
                                                <span class="input-group-addon" title="Optional Nickname of the sample for this analysis"><i class="fa fa-flask" aria-hidden="true"></i></span>
                                                <input id="samples_details_nickname" type="text" class="form-control" placeholder="Optional nickname" aria-describedby="sizing-addon1" value="" title="Optional nickname">
                                            </div>
                                        </form>
                                        <ul>
                                            <li style="list-style-type: none;"><b><i class="fa fa-tag" aria-hidden="true" style="width:20px; text-align:center;"></i> Control :</b> Yes
                                                <span style="float:right"><i class="fa fa-pencil" aria-hidden="true" style="width:20px; text-align:center;"></i></span>
                                            </li>
                                            <li style="list-style-type: none;"><b><i class="fa fa-tag" aria-hidden="true" style="width:20px; text-align:center;"></i> Sex :</b> Male 
                                                <span style="float:right"><i class="fa fa-pencil" aria-hidden="true" style="width:20px; text-align:center;"></i></span>
                                            </li>
                                            <li style="list-style-type: none;color:#999; font-style:italic;"><i class="fa fa-plus" aria-hidden="true" style="width:20px; text-align:center;"></i> Add attribute</li>
                                        </ul>
                                    </div>

                                    
                                </div>
                            </div>
                        </div>



                        <!--               -->
                        <!-- FILTERS PANEL --> 
                        <!--               -->
                        <div id="filters_panel" class="tab-pane fade">
                            <div class="row" style="margin:0; padding-left:75px">

                                <!--                    -->
                                <!-- QUICK FILTERS MENU -->
                                <!--                    -->
                                <div id="filters_panel_menu_quick" class="col-md-2 browser-panel">
                                    <a href="#" class="btn section" style="display:block; text-align:left;" role="button">
                                        <i class="fa fa-ban" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                        All variants (reset filter)
                                        <span style="float:right;">350</span>
                                    </a>

                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#filters_panel_menu_quick_f" aria-expanded="false" aria-controls="filters_panel_menu_quick_f">
                                        <i class="fa fa-cubes" style="width:20px; text-align:center;" aria-hidden="true"></i> Saved filters 
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="filters_panel_menu_quick_f" class="collapse">
                                        <ul>
                                            
                                            <li><a href="#" style="font-weight:bold;"><i class="fa fa-cube" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                De Novo
                                                <span style="float:right;">40 <i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a>
                                            </li>
                                            <li><a href="#"><i class="fa fa-cube" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                X link
                                                <span style="float:right;">32 <i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a>
                                            </li>
                                            <li><a href="#"><i class="fa fa-cube" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                Final
                                                <span style="float:right;">7 <i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>


                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_v" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_v">
                                        <i class="fa fa-map-marker" style="width:20px; text-align:center;" aria-hidden="true"></i> Variant
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_v" class="collapse">
                                        <ul>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> sample</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> chr</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> pos</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> ref</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> alt</a></li>
                                        </ul>
                                    </div>


                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vtype" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vtype">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Variant type *
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vtype" class="collapse">
                                        <ul>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Substitution</a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Deletion</a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Insertion</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> CNV</a></li>
                                        </ul>
                                    </div>

                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vregion" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vregion">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Region *
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vregion" class="collapse">
                                        <ul>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> Coding (Gene)</a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Exon</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> Intron</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> CDS</a></li>
                                        </ul>
                                    </div>


                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vcoding" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vcoding">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Coding
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vcoding" class="collapse">
                                        <ul>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> STOP</a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Missence</a></li>
                                        </ul>
                                    </div>



                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vexpr" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vexpr">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Expression
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vexpr" class="collapse">
                                        <ul>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Dominant</a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Recessif</a></li>
                                        </ul>
                                    </div>



                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vgeno" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vgeno">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Zygosity
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vgeno" class="collapse">
                                        <ul>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> ref/alt <span style="float:right;">(hetero-ref)</span></a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> alt/alt <span style="float:right;">(homo-alt)</span></a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> alt1/alt2 <span style="float:right;">(hetero-alt)</span></a></li>
                                        </ul>
                                    </div>


                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vprio" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vprio">
                                        <i class="fa fa-filter" style="width:20px; text-align:center;" aria-hidden="true"></i> Priorisation *
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vprio" class="collapse">
                                        <ul>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> SIFT</a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> Polyphen2.HDIV </a></li>
                                            <li><a href="#"><i class="fa fa-eye" style="width:20px; text-align:center;" aria-hidden="true"></i> Polyphen2.HVAR < 59
                                                <span style="float:right;"><i class="fa fa-pencil" aria-hidden="true"></i></span></a></li>
                                            <li><a href="#" style="color:#999"><i class="fa fa-eye-slash" style="width:20px; text-align:center;" aria-hidden="true"></i> LTR</a></li>
                                        </ul>
                                    </div>

                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vrefgen" aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vrefgen">
                                        <i class="fa fa-database" style="width:20px; text-align:center;" aria-hidden="true"></i> refGen
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vrefgen" class="collapse">
                                        <ul>
                                            <li><a href="#"><input type="checkbox" checked/> Name </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> Name2 </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> ... </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> ... </a></li>
                                        </ul>
                                    </div>

                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#browserNavFiltersPanelFilters_vrefgenexon    " aria-expanded="false" aria-controls="browserNavFiltersPanelFilters_vrefgenexon">
                                        <i class="fa fa-database" style="width:20px; text-align:center;" aria-hidden="true"></i> refGen exons
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="browserNavFiltersPanelFilters_vrefgenexon" class="collapse">
                                        <ul>
                                            <li><a href="#"><input type="checkbox" checked/> Name <input type="text"/></a></li>
                                            <li><a href="#"><input type="checkbox" checked/> Name2 <input type="text"/></a></li>
                                            <li><a href="#"><input type="checkbox" checked/> ...</a></li>
                                            <li><a href="#"><input type="checkbox" checked/> ... <input type="text"/></a></li>
                                        </ul>
                                    </div>
                                </div>


                                <!--              -->
                                <!-- FILTERS MENU -->
                                <!--              -->
                                <div id="filters_panel_menu_filter" class="col-md-2 browser-panel collapse">
                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#filters_panel_menu_filter_f" aria-expanded="false" aria-controls="filters_panel_menu_filter_f">
                                        <i class="fa fa-cubes" style="width:20px; text-align:center;" aria-hidden="true"></i> Saved filters 
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge"></span>&nbsp;<i class="fa fa-chevron-right" aria-hidden="true" style="width:20px; text-align:center;"></i>
                                        </span>
                                    </a>
                                    <div id="filters_panel_menu_filter_f" class="collapse">
                                        <ul>
                                            <li><a href="#">
                                                    <i class="fa fa-cubes" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                    All variants
                                                    <span style="float:right;">350</span>
                                                </a>
                                            </li>
                                            <li><a href="#" style="font-weight:bold;"><i class="fa fa-cube" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                De Novo
                                                <span style="float:right;">40 <i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a>
                                            </li>
                                            <li><a href="#"><i class="fa fa-cube" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                X link
                                                <span style="float:right;">32 <i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a>
                                            </li>
                                            <li><a href="#"><i class="fa fa-cube" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                                Final
                                                <span style="float:right;">7 <i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>

                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#filters_panel_menu_filter_c" aria-expanded="false" aria-controls="filters_panel_menu_filter_c">
                                        <i class="fa fa-filter" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i> Filter
                                        <span style="float:right;">
                                            <span id="selection_count" class="badge">40</span>
                                        </span>
                                    </a>
                                    <div id="filters_panel_menu_filter_c" class="complex_filter check">
                                        <button class="fa delete">&nbsp;</button>
                                        <button class="fa toggle minus">&nbsp;</button>
                                        <select name="select" class="and" onmouseup="javascript:filter_switch_operator(this);">
                                            <option value="value1" selected>AND</option> 
                                            <option value="value2">OR</option>
                                            <option value="value3">XOR</option>
                                        </select>
                                        <ul class="and">
                                            <li class="condition check">
                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                    <i class="fa" aria-hidden="true">&nbsp;</i>
                                                    <span>Not in : <b class="fa fa-tag" aria-hidden="true"></b> Control-Yes</span>
                                                </button>
                                                <button class="fa delete">&nbsp;</button>
                                                <button class="fa edit">&nbsp;</button>
                                            </li>
                                            <li class="condition uncheck">
                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                    <i class="fa" aria-hidden="true">&nbsp;</i>
                                                    <span>In : <b class="fa fa-cube" aria-hidden="true"></b> X link</span>
                                                </button>
                                                <button class="fa delete">&nbsp;</button>
                                                <button class="fa edit">&nbsp;</button>
                                            </li>
                                            <li class="condition check">
                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                    <i class="fa" aria-hidden="true">&nbsp;</i> 
                                                    <span>DP &lt; 400</span>
                                                </button>
                                                <button class="fa delete">&nbsp;</button>
                                                <button class="fa edit">&nbsp;</button>
                                            </li>


                                            <li class="condition check">
                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                    <i class="fa" aria-hidden="true">&nbsp;</i> 
                                                </button>
                                                <button class="fa delete">&nbsp;</button>
                                                <button class="fa toggle minus">&nbsp;</button>
                                                <select name="select" class="or" onmouseup="javascript:filter_switch_operator(this);">
                                                    <option value="value1">AND</option> 
                                                    <option value="value2" selected>OR</option>
                                                    <option value="value3">XOR</option>
                                                </select>
                                                <ul class="or">
                                                    <li class="condition uncheck">
                                                        <button onclick="javascript:filter_toggle_condition(this);">
                                                            <i class="fa" aria-hidden="true">&nbsp;</i>
                                                            <span>In : <b class="fa fa-cube" aria-hidden="true"></b> X link</span>
                                                        </button>
                                                        <button class="fa delete">&nbsp;</button>
                                                        <button class="fa edit">&nbsp;</button>
                                                    </li>
                                                    <li class="condition check">
                                                        <button onclick="javascript:filter_toggle_condition(this);">
                                                            <i class="fa" aria-hidden="true">&nbsp;</i> 
                                                            <span>DP &lt; 400</span>
                                                        </button>
                                                        <button class="fa delete">&nbsp;</button>
                                                        <button class="fa edit">&nbsp;</button>
                                                    </li>

                                                    <li style="condition check">
                                                        <button onclick="javascript:filter_toggle_condition(this);">
                                                            <i class="fa" aria-hidden="true">&nbsp;</i>
                                                        </button>
                                                        <button class="fa delete">&nbsp;</button>
                                                        <button class="fa toggle minus">&nbsp;</button>
                                                        <select name="select" class="xor" onmouseup="javascript:filter_switch_operator(this);">
                                                            <option value="value1">AND</option> 
                                                            <option value="value2">OR</option>
                                                            <option value="value3" selected>XOR</option>
                                                        </select>
                                                        <ul class="xor">
                                                            <li class="condition uncheck">
                                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                                    <i class="fa" aria-hidden="true">&nbsp;</i>
                                                                    <span>In : <b class="fa fa-cube" aria-hidden="true"></b> X link</span>
                                                                </button>
                                                                <button class="fa delete">&nbsp;</button>
                                                                <button class="fa edit">&nbsp;</button>
                                                            </li>
                                                            <li class="condition check">
                                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                                    <i class="fa" aria-hidden="true">&nbsp;</i> 
                                                                    <span>DP &lt; 400</span>
                                                                </button>
                                                                <button class="fa delete">&nbsp;</button>
                                                                <button class="fa edit">&nbsp;</button>
                                                            </li>
                                                            <li class="addcondition">
                                                                <button href="#modal_filter_add_condition" data-toggle="modal">
                                                                    <b class="fa fa-plus" aria-hidden="true">&nbsp;</b>
                                                                    <span>Add new condition</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </li>
                                                    <li class="addcondition">
                                                        <button href="#modal_filter_add_condition" data-toggle="modal">
                                                            <b class="fa fa-plus" aria-hidden="true">&nbsp;</b>
                                                            <span>Add new condition</span>
                                                        </button>
                                                    </li>
                                                </ul>
                                            </li>
                                            <li class="condition check">
                                                <button onclick="javascript:filter_toggle_condition(this);">
                                                    <i class="fa" aria-hidden="true">&nbsp;</i> 
                                                    <span>Deletion</span>
                                                </button>
                                                <button class="fa delete">&nbsp;</button>
                                                <button class="fa edit">&nbsp;</button>
                                            </li>
                                            <li class="addcondition">
                                                <button href="#modal_filter_add_condition" data-toggle="modal">
                                                    <b class="fa fa-plus" aria-hidden="true">&nbsp;</b>
                                                    <span>Add new condition</span>
                                                </button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>


                                <!--           -->
                                <!-- INFO MENU -->
                                <!--           -->
                                <div id="filters_panel_menu_info" class="col-md-2 browser-panel collapse">
                                    <span class="btn section" style="display:block; text-align:left;">
                                        <i class="fa fa-info" style="width:20px; text-align:center;" aria-hidden="true"></i> Select information you want to display
                                    </span>
                                    <form class="form-inline form-navpanel">
                                        <div class="input-group">
                                            <span class="input-group-addon"><i class="fa fa-search" aria-hidden="true"></i></span>
                                            <input id="browserNavFieldsPanel_filter_input" type="text" class="form-control" placeholder="Search field" aria-describedby="sizing-addon1">
                                        </div>
                                    </form>
                                    
                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#variant_infos_variant" aria-expanded="false" aria-controls="variant_infos_variant">
                                        <input type="checkbox"/>  Variant</a>
                                    </a>
                                    <div id="variant_infos_variant" class="collapse">
                                        <ul><li><a href="#"><input type="checkbox" checked/> Chrom
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> Pos
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> Ref
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> Alt
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Bin
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox" checked/> Sample
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> DP
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> GT
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                        </ul>
                                    </div>
                                    <a class="btn section" style="display:block; text-align:left;" role="button" data-toggle="collapse" href="#variant_infos_refgene" aria-expanded="false" aria-controls="variant_infos_refgene">
                                        <input type="checkbox"/>  refGene</a>
                                    </a>
                                    <div id="variant_infos_refgene" class="collapse">
                                        <ul>
                                            <li><a href="#"><input type="checkbox"/> CDS
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Exon count
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Exon positions
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Name
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Name2
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Score
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                            <li><a href="#"><input type="checkbox"/> Tx
                                                    <span style="float:right;"><i class="fa fa-info-circle" aria-hidden="true"></i></span>
                                                </a></li>
                                        </ul>
                                    </div>
                                </div>



                                <!--              -->
                                <!-- VARIANT LIST -->
                                <!--              -->
                                <div class="col-md-10" style="height:500px; padding-left:0; padding-right:0; overflow-y: auto;">
                                    <!--                        -->
                                    <!-- FILTERED VARIANTS LIST -->
                                    <!--                        -->
                                    <div id="variants_list">
                                        <table id="variants_list_table" class="table table-striped table-bordered" cellspacing="0" width="100%" style="margin:0">
                                            <thead>
                                                <tr>
                                                    <th></th>
                                                    <th>Sample</th>
                                                    <th>chr</th>
                                                    <th>pos</th>
                                                    <th>ref</th>
                                                    <th>alt</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for r in variants %}
                                                <tr id="fileEntry-{{ r[0] }}" style="cursor: pointer;">
                                                    <td><input type="checkbox" value="{{ r[0] }}"/></td>
                                                    <td>{{ r[1] }} </td>
                                                    <td>{{ r[2] }} </td>
                                                    <td class="pos">{{ r[3] }} </td>
                                                    <td>{{ r[4] }} </td>
                                                    <td>{{ r[5] }} </td>
                                                </tr>
                                                {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>




                        <!--                 -->
                        <!-- SELECTION PANEL --> 
                        <!--                 -->
                        <div id="selection_panel" class="tab-pane fade">
                            <div class="row" style="margin:0; padding-left:75px">


                                <!--                -->
                                <!-- SELECTION MENU --> 
                                <!--                -->
                                <div id="selection_panel_menu_info" class="col-md-2 browser-panel">
                                    infos sur le variant
                                </div>


                                <!--                  -->
                                <!-- SELECTION EXPORT --> 
                                <!--                  -->
                                <div id="selection_panel_menu_export" class="col-md-2 browser-panel collapse">
                                    export form
                                </div>


                                <!--                 -->
                                <!-- SELECTION PRINT --> 
                                <!--                 -->
                                <div id="selection_panel_menu_report" class="col-md-2 browser-panel collapse">
                                    <ul>
                                        <li><a href="#"><i class="fa fa-check" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                            config report
                                            </a>
                                        </li>
                                        <li><a href="#" ><i class="fa fa-check" aria-hidden="true" style="width:20px; text-align:center;">&nbsp;</i>
                                            config report
                                            </a>
                                        </li>
                                    </ul>
                                    <button onclick="javascript:fake_generate_report();"> Generate report</button>
                                </div>




                                <!--                        -->
                                <!-- SELECTED VARIANTS LIST -->
                                <!--                        -->
                                <div id="selection_panel_content_info" class="col-md-10" style="height:500px; padding-left:0; padding-right:0; overflow-y: auto;">
                                    <div id="selection_list">
                                        <table id="selection_list_table" class="table table-striped table-bordered" cellspacing="0" width="100%" style="margin:0">
                                            <thead>
                                                <tr>
                                                    <th>Sample</th>
                                                    <th>chr</th>
                                                    <th>pos</th>
                                                    <th>ref</th>
                                                    <th>alt</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>CGH0157</td>
                                                    <td>1 </td>
                                                    <td class="pos">871334</td>
                                                    <td>G </td>
                                                    <td>T </td>
                                                </tr>
                                                <tr>
                                                    <td>CGH0157</td>
                                                    <td>1 </td>
                                                    <td class="pos">876499</td>
                                                    <td>A </td>
                                                    <td>T </td>
                                                </tr>
                                                <tr>
                                                    <td>CGH0157</td>
                                                    <td>1 </td>
                                                    <td class="pos">877715</td>
                                                    <td>C </td>
                                                    <td>G </td>
                                                </tr>
                                                <tr>
                                                    <td>CGH0157</td>
                                                    <td>1 </td>
                                                    <td class="pos">880238</td>
                                                    <td>A </td>
                                                    <td>G </td>
                                                </tr>
                                                <tr>
                                                    <td>CGH0157</td>
                                                    <td>1 </td>
                                                    <td class="pos">881627</td>
                                                    <td>G </td>
                                                    <td>A </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>


                                <!--                 -->
                                <!-- EXPORT VARIANTS -->
                                <!--                 -->
                                <div id="selection_panel_content_export" class="col-md-10 collapse" style="height:500px; padding-left:0; padding-right:0; overflow-y: auto;">
                                    - array : source => target<br/>
                                    - export result preview
                                </div>




                                <!--                 -->
                                <!-- EXPORT VARIANTS -->
                                <!--                 -->
                                <script language="javascript" src="http://www.proteinatlas.org/utils/jquery.min.js?version=15.0.0" type="text/javascript"></script>
                                <script language="javascript" src="http://www.proteinatlas.org/common.js?version=15.0.0" type="text/javascript"></script>
                                <script language="javascript" src="http://www.proteinatlas.org/utils/d3.min.js?version=15.0.0" type="text/javascript"></script>
                                <div id="selection_panel_content_report" class="col-md-10 collapse" style="height:500px; padding-left:60px; padding-right:0; overflow-y: auto;">
                                    
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="demo_footer" class="panel-footer">&nbsp;</div>
                </div>
            </div>


            <ul id="context_menu" class="dropdown-menu" role="menu" style="display:none" >
                <li><a id="context_menu_info" tabindex="-1" href="#"><i class="fa fa-info-circle" aria-hidden="true"></i> Informations</a></li>
                <li><a id="context_menu_dl" tabindex="-1" href="#"><i class="fa fa-cloud-download" aria-hidden="true"></i> Download</a></li>
            </ul>






            <!--     -->
            <!-- API -->
            <!--     -->
            <div id="api" class="tab-pane fade">
                <h1> Comming soon</h1>
                <ul>
                    <li><a href="https://github.com/REGOVAR/Pirus/blob/master/examples/pipelines/PirusBasic/readme.md">Pipeline creation</a></li>
                    <li><a href="https://github.com/REGOVAR/Pirus/tree/master/docs">Doc</a></li>
                    <li><a href="https://annuel.framapad.org/p/pirusAPI">Spec in progress</a></li>
                </ul>
            </div>





            <!--                           -->
            <!-- MODAL POPUP - File Upload -->
            <!--                           -->
            <div id="modal_new_file" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title"><i class="fa fa-folder-open-o" aria-hidden="true"></i> Upload a file on Pirus</h4>
                        </div>
                        <div class="modal-body">
                            <input type="hidden" id="modal_new_file_tus_endpoint" name="modal_new_file_tus_endpoint" value="http://{{ hostname }}/file/upload">
                            <input type="hidden" id="modal_new_file_tus_chunksize" name="modal_new_file_tus_chunksize" value="256000">
                            <input type="file" id="modal_new_file_tus_localinput">
                            <p id="modal_new_file_progress" style="margin-top:20px; height:50px;"></p>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>




            <!--                                -->
            <!-- MODAL POPUP - sample attribute -->
            <!--                                -->
            <div id="modal_sample_attribute" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title"><i class="fa fa-tag" aria-hidden="true"></i> </h4>
                        </div>
                        <div class="modal-body">
                            <input type="text" id="modal_sample_attribute_name" placeholder="Attribute name"/>
                            <input type="text" id="modal_sample_attribute_value" placeholder="Attribute value"/>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>




            <!--                                    -->
            <!-- MODAL POPUP - New Filter condition -->
            <!--                                    -->
            <div id="modal_filter_add_condition" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title"><i class="fa fa-play" aria-hidden="true"></i> New <span id="newRunPipeName" class="text-primary"></span> run</h4>
                        </div>

                        <div class="tab-content" style="margin:0 10px;">
                            <div id="runConfigInputsTab" class="tab-pane fade in active">
                                <div class="runConfigHeader">
                                    <p class="current"><span>1</span><br/><i class="fa fa-files-o" aria-hidden="true"></i> Inputs</p>
                                    <p class="sp">     </p>
                                    <p class=""><span>2</span><br/><i class="fa fa-cog" aria-hidden="true"></i> Configure</p>
                                    <p class="sp">     </p>
                                    <p class=""><span>3</span><br/><i class="fa fa-check" aria-hidden="true"></i> Confirm</p>
                                </div>

                                <div class="runConfigTabDescription">Below the list of input files selected for the run</div>
                                <table id="inputFilesList" class="table table-striped table-bordered" cellspacing="0" width="100%">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Size</th>
                                            <th>Creation</th>
                                        </tr>
                                    </thead>

                                    <tbody>
     
                                    </tbody>
                                </table>
                                <p style="margin-top: 20px; text-align:right;"> 
                                    <button type="button" class="btn btn-primary" data-toggle="tab" href="#runConfigFormTab" onclick="javascript:run_config_step_2();">Next &nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></button>
                                </p>
                            </div>
                            <div id="runConfigFormTab" class="tab-pane fade">
                                <div class="runConfigHeader">
                                    <p class="ok"><span>1</span><br/><i class="fa fa-files-o" aria-hidden="true"></i> Inputs</p>
                                    <p class="sp ok">  </p>
                                    <p class="current"><span>2</span><br/><i class="fa fa-cog" aria-hidden="true"></i> Configure</p>
                                    <p class="sp">     </p>
                                    <p class="next"><span>3</span><br/><i class="fa fa-check" aria-hidden="true"></i> Confirm</p>
                                </div>
                                <div class="runConfigTabDescription">Configure the run</div>
                                <div id="runConfigContainer"></div>
                                <p style="margin-top: 20px; text-align:right;"> 
                                    <button type="button" class="btn btn-primary" data-toggle="tab" href="#runConfigInputsTab"><i class="fa fa-chevron-left" aria-hidden="true"></i>&nbsp; Previous</button> &nbsp; 
                                    <button type="button" class="btn btn-primary" data-toggle="tab" href="#runConfigConfirmTab" onclick="javascript:run_config_step_3();">Next &nbsp;<i class="fa fa-chevron-right" aria-hidden="true"></i></button>
                                </p>
                            </div>
                            <div id="runConfigConfirmTab" class="tab-pane fade">
                                <div class="runConfigHeader">
                                    <p class="ok"><span>1</span><br/><i class="fa fa-files-o" aria-hidden="true"></i> Inputs</p>
                                    <p class="sp ok">  </p>
                                    <p class="ok"><span>2</span><br/><i class="fa fa-cog" aria-hidden="true"></i> Configure</p>
                                    <p class="sp ok">  </p>
                                    <p class="current"><span>3</span><br/><i class="fa fa-check" aria-hidden="true"></i> Confirm</p>
                                </div>
                                <div class="runConfigTabDescription"> The run is ready to start !</i></div>
                                <div id="runConfirmContainer">
                                    <dl>
                                        <dt>Inputs </dt>
                                        <ll>file1</ll>
                                        <ll>file2</ll>
                                        <ll>file3</ll>

                                        <dt>Parameters</dt>
                                        <ll>Param1 : val 1</ll>
                                        <ll>Param2 : val 2</ll>
                                        <ll>Param3 : val 3</ll>
                                    </dl>
                                </div>
                                <p style="margin-top: 20px; text-align:center;"> 
                                    <button type="button" class="btn btn-primary" data-toggle="tab" href="#runConfigFormTab"><i class="fa fa-chevron-left" aria-hidden="true"></i>&nbsp; Previous</button>  &nbsp; 
                                    <button id="runConfirmButton" type="button" class="btn btn-success" onclick="javascript:run_config_step_4();"><i class="fa fa-check" aria-hidden="true"></i>&nbsp; Run !</button>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>


    <script src="/assets/annso.js"></script>
    <script>
        var rootURL = "http://{{ hostname }}";

        var ws = new WebSocket('ws://{{ hostname }}/ws');
        var $message = $('#message');



        function pirus_delete(type, id)
        {
            $.ajax(
            {
                url: "{0}/{1}/{2}".format(rootURL, type, id),
                type: "DELETE"
            }).fail(function()
            {
                alert( "Unexpected error when trying to delete this " + type );
            }).done(function(txt) 
            {
                location.reload();
            })
        }
        


        $(document).ready(function()
        {

            $("#browser_files_table td").contextMenu({
                menuSelector: "#context_menu",
                menuSelected: function (invokedOn, selectedMenu) 
                {
                    var action = selectedMenu[0].getAttribute("id");
                    var id = invokedOn[0].parentElement.children[6].innerHTML;
                    if (action == "context_menu_info") show_tab("browser_file", id);
                    else if (action == "context_menu_dl") alert("TODO : download the file " + id);
                }
            });

            //$("#browser_files_table").tablesorter(); 

        });




        



        /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
        /* Context menu
        /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
        (function ($, window) 
        {
            $.fn.contextMenu = function (settings) 
            {
                return this.each(function () 
                {

                    // Open context menu
                    $(this).on("contextmenu", function (e) 
                    {
                        // return native menu if pressing control
                        if (e.ctrlKey) return;
                        
                        //open menu
                        var $menu = $(settings.menuSelector)
                        .data("invokedOn", $(e.target))
                        .show()
                        .css({
                            position: "absolute",
                            left: getMenuPosition(e.clientX, 'width', 'scrollLeft'),
                            top: getMenuPosition(e.clientY, 'height', 'scrollTop')
                        })
                        .off('click')
                        .on('click', 'a', function (e) {
                            $menu.hide();
                            var $invokedOn = $menu.data("invokedOn");
                            var $selectedMenu = $(e.target);

                            settings.menuSelected.call(this, $invokedOn, $selectedMenu);
                        });
                        
                        return false;
                    });

                    //make sure menu closes on any click
                    $('body').click(function () 
                    {
                        $(settings.menuSelector).hide();
                    });
                });

                function getMenuPosition(mouse, direction, scrollDir) 
                {
                    var win = $(window)[direction](),
                    scroll = $(window)[scrollDir](),
                    menu = $(settings.menuSelector)[direction](),
                    position = mouse + scroll;

                    // opening menu would pass the side of the page
                    if (mouse + menu > win && menu < mouse) 
                        position -= menu;
                    
                    return position;
                }
            };
        })(jQuery, window);










        /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
        /* WEBSOCKETS SESSION
        /* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */

        ws.onopen = function()
        {
            $message.attr("class", 'label label-success');
            $message.text('open');

            ws.send('{"action" : "authent", "data" : "Chrome"}')
        };
        ws.onmessage = function(ev)
        {
            $message.attr("class", 'label label-info');
            var json = JSON.parse(ev.data);


            dt = new Date()
            $message.html(dt.toLocaleTimeString() + ' ' + json["action"] + ' : ' + json["data"]);

            switch(json["action"])
            {
                case 'online_user':
                    var uTxt = ""
                    $.each(json["data"], function (idx, val)
                    {
                        uTxt += "<li>" + val + "</li>"
                    })
                    $('#userList').html(uTxt)
                    break;

                case 'run_changed':
                    ws_run_changed(json["data"])
                    break;
                case 'file_changed':
                    ws_file_changed(json["data"])
                    break;
            }
        };
        ws.onclose = function(ev)
        {
            $message.attr("class", 'label label-important');
            $message.text('closed');
        };
        ws.onerror = function(ev)
        {
            $message.attr("class", 'label label-warning');
            $message.text('error occurred');
        };
        </script>
</body>
</html> 
